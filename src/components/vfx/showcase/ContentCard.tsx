"use client";

import React, { useEffect, useRef } from "react";
import Image from "next/image";
import "./CustomSlider.css";
import { gsap } from "gsap";

type AnnouncementCardProps = {
  id: number;
  title: string;
  content: string;
  image: string;
};

function ContentCard({ id, title, content, image }: AnnouncementCardProps) {
  const cursorRef = useRef<HTMLDivElement>(null);
  const cardRef = useRef<HTMLDivElement>(null);

  useEffect(() => {
    const handleMouseMove = (event: MouseEvent) => {
      if (cursorRef.current) {
        gsap.to(cursorRef.current, {
          x: event.clientX,
          y: event.clientY,
          duration: 0.15,
          ease: "power2.out",
        });
      }
    };

    window.addEventListener("mousemove", handleMouseMove);
    return () => window.removeEventListener("mousemove", handleMouseMove);
  }, []);

  useEffect(() => {
    const card = cardRef.current;
    const cursor = cursorRef.current;
    if (!card || !cursor) return;

    const showCursor = () => gsap.to(cursor, { opacity: 1, scale: 1, duration: 0.3 });
    const hideCursor = () => gsap.to(cursor, { opacity: 0, scale: 0.5, duration: 0.3 });

    card.addEventListener("mouseenter", showCursor);
    card.addEventListener("mouseleave", hideCursor);

    return () => {
      card.removeEventListener("mouseenter", showCursor);
      card.removeEventListener("mouseleave", hideCursor);
    };
  }, []);

  return (
    <div className="flex flex-col justify-center items-start gap-m flex-1 relative">
      {/* area gambar */}
      <div ref={cardRef} className="flex-1 w-full relative aspect-video group overflow-hidden">
        <Image
          src={image}
          alt={title}
          fill
          className="object-cover transition-transform duration-300 group-hover:scale-105"
        />
        <div className="absolute inset-0 bg-black/0 transition-colors duration-300 group-hover:bg-black/50"></div>
      </div>

      {/* cursor custom */}
      <div ref={cursorRef} className="cursorHover relative">
        <svg xmlns="http://www.w3.org/2000/svg" width="69" height="69" viewBox="0 0 69 69" fill="none" className="spin">
          <path d="M41.6007 3.06816C41.51 3.78244 41.2029 4.32811 40.6793 4.7052C40.1556 5.08229 39.4256 5.21141 38.4891 5.09258L36.8105 4.8796L36.3604 8.42715L35.5271 8.32142L36.583 0.000135679L39.0948 0.31886C40.0234 0.436682 40.6941 0.743551 41.1069 1.23947C41.5277 1.73639 41.6923 2.34595 41.6007 3.06816ZM38.5797 4.37831C39.8813 4.54346 40.6026 4.07049 40.7435 2.9594C40.814 2.40386 40.7126 1.96359 40.4394 1.63861C40.1661 1.31363 39.6882 1.10783 39.0057 1.02123L37.3272 0.808242L36.9012 4.16533L38.5797 4.37831ZM45.6039 1.09096L42.9961 9.57941L42.1931 9.33273L44.8009 0.844275L45.6039 1.09096ZM45.9748 7.24534C46.2969 6.65554 46.6945 6.20272 47.1678 5.88688C47.6519 5.56786 48.1662 5.40209 48.7108 5.38956C49.2663 5.37384 49.8074 5.50976 50.334 5.7973C50.8816 6.09635 51.2831 6.47961 51.5383 6.94708C51.8005 7.41838 51.912 7.89856 51.8728 8.38761L52.5629 7.12375L53.3002 7.52631L50.1602 13.2769L49.4229 12.8743L50.1188 11.5999C49.7215 11.8935 49.2519 12.0608 48.7098 12.1021C48.1786 12.1402 47.6391 12.0097 47.0914 11.7107C46.5719 11.4269 46.1685 11.0472 45.8814 10.5714C45.6013 10.0995 45.4646 9.57361 45.4712 8.99388C45.4849 8.41799 45.6528 7.83514 45.9748 7.24534ZM50.9929 9.99904C51.246 9.53562 51.3735 9.07662 51.3757 8.62203C51.3778 8.16744 51.2656 7.75526 51.0391 7.38549C50.8196 7.01955 50.5133 6.72923 50.1201 6.51453C49.7128 6.29216 49.2979 6.18407 48.8752 6.19027C48.4525 6.19647 48.0506 6.32335 47.6693 6.57091C47.2989 6.81528 46.9833 7.17619 46.7226 7.65365C46.4657 8.12409 46.3308 8.5882 46.3178 9.04597C46.3157 9.50056 46.4244 9.91083 46.6439 10.2768C46.8672 10.6357 47.1825 10.9263 47.5897 11.1487C47.9829 11.3634 48.3928 11.4641 48.8193 11.4509C49.2528 11.4415 49.6602 11.3131 50.0415 11.0655C50.4227 10.8179 50.7399 10.4625 50.9929 9.99904ZM60.095 13.4215L50.6053 17.654L49.975 17.0456L53.0571 15.6843L55.6486 9.12936L56.3134 9.77109L54.0356 15.3446L59.4734 12.8214L60.095 13.4215ZM66.718 27.0421C66.9684 27.7681 66.9412 28.4376 66.6364 29.0505C66.3418 29.6683 65.7596 30.1272 64.8899 30.4272L61.2597 31.6793L60.9897 30.8965L64.5291 29.6757C65.2022 29.4436 65.6604 29.1036 65.9037 28.6558C66.147 28.208 66.1721 27.7043 65.9791 27.1446C65.7782 26.5623 65.4249 26.1637 64.9192 25.9489C64.4136 25.734 63.7939 25.7531 63.0603 26.0061L59.7024 27.1643L59.4325 26.3815L62.9718 25.1608C63.6449 24.9286 64.1031 24.5886 64.3464 24.1408C64.5897 23.693 64.6135 23.1855 64.4179 22.6183C64.217 22.036 63.8637 21.6374 63.3581 21.4225C62.8524 21.2077 62.2327 21.2268 61.4991 21.4798L58.1413 22.638L57.8674 21.8439L64.0613 19.7075L64.3352 20.5016L63.2688 20.8694C63.7223 20.933 64.11 21.1124 64.4319 21.4076C64.7613 21.7002 65.0029 22.0696 65.1568 22.5158C65.342 23.0527 65.3752 23.566 65.2563 24.0555C65.14 24.5526 64.8636 24.9779 64.4271 25.3316C64.976 25.3284 65.4482 25.4829 65.8436 25.795C66.2492 26.1121 66.5406 26.5278 66.718 27.0421ZM64.8604 39.4567C64.5727 39.4455 64.3531 39.4289 64.2019 39.407L64.4138 33.9751C63.9173 33.9798 63.4889 34.0831 63.1287 34.2853C62.7686 34.4874 62.4897 34.7607 62.2921 35.1053C62.1025 35.4501 61.9996 35.8304 61.9834 36.2461C61.9622 36.7897 62.0763 37.2505 62.3258 37.6285C62.5749 38.0145 62.921 38.2762 63.364 38.4136L63.3293 39.3009C62.6961 39.1161 62.1859 38.7519 61.7988 38.2084C61.4194 37.6732 61.2451 37.0099 61.276 36.2185C61.3 35.603 61.4574 35.0567 61.7482 34.5797C62.047 34.1029 62.4537 33.7345 62.9682 33.4744C63.4904 33.2226 64.0913 33.1099 64.7708 33.1364C65.4503 33.1629 66.0405 33.3221 66.5415 33.6138C67.0425 33.9056 67.4194 34.3006 67.6722 34.7988C67.9249 35.297 68.0392 35.8579 68.0148 36.4814C67.9905 37.105 67.8334 37.6432 67.5435 38.0963C67.2533 38.5573 66.8716 38.9027 66.3982 39.1324C65.9326 39.3704 65.42 39.4785 64.8604 39.4567ZM64.9176 38.6063C65.4049 38.6333 65.8245 38.5496 66.1764 38.3552C66.5279 38.1687 66.7985 37.9031 66.9881 37.5582C67.1777 37.2133 67.2806 36.8331 67.2968 36.4174C67.3211 35.7939 67.142 35.2545 66.7595 34.7992C66.3769 34.3439 65.8229 34.0781 65.0973 34.0018L64.9176 38.6063ZM60.058 44.0929C60.1173 43.9272 60.2236 43.8081 60.377 43.7355C60.5277 43.6705 60.6859 43.6676 60.8517 43.7269C61.0174 43.7862 61.1341 43.8874 61.2018 44.0306C61.2744 44.184 61.281 44.3435 61.2218 44.5093C61.1652 44.6674 61.0615 44.7791 60.9108 44.8441C60.7649 44.9194 60.6091 44.9273 60.4434 44.8681C60.2777 44.8088 60.1586 44.7024 60.086 44.549C60.0107 44.4031 60.0014 44.2511 60.058 44.0929ZM59.4892 56.7427C58.9069 56.3192 58.5766 55.7873 58.4983 55.1467C58.42 54.5062 58.6585 53.8042 59.2137 53.0407L60.2088 51.6723L57.3166 49.5692L57.8106 48.8898L64.5946 53.8229L63.1055 55.8707C62.555 56.6278 61.9631 57.0678 61.3296 57.1907C60.6915 57.3202 60.078 57.1708 59.4892 56.7427ZM59.796 53.4642C59.0244 54.5253 59.0915 55.3852 59.9973 56.0439C60.4503 56.3732 60.8849 56.4964 61.3013 56.4135C61.7178 56.3305 62.1283 56.0108 62.5329 55.4544L63.528 54.0859L60.7911 52.0957L59.796 53.4642ZM59.3022 61.1981L53.112 54.8313L53.7143 54.2458L59.9045 60.6125L59.3022 61.1981ZM53.7313 58.5637C54.0946 59.129 54.3014 59.6951 54.3518 60.2618C54.3997 60.8396 54.2986 61.3705 54.0486 61.8544C53.7961 62.3495 53.4175 62.7592 52.9127 63.0835C52.3877 63.4208 51.859 63.5894 51.3264 63.5893C50.7871 63.5935 50.3122 63.4612 49.9018 63.1924L50.6802 64.4039L49.9735 64.858L46.4317 59.3458L47.1383 58.8917L47.9233 60.1133C47.8561 59.624 47.9343 59.1315 48.1579 58.636C48.3791 58.1515 48.7522 57.7406 49.2772 57.4033C49.7752 57.0833 50.3019 56.9113 50.857 56.8874C51.4055 56.8678 51.9325 56.9999 52.4381 57.2836C52.937 57.5716 53.3681 57.9983 53.7313 58.5637ZM48.9093 61.6478C49.1947 62.092 49.5364 62.424 49.9343 62.6438C50.3323 62.8635 50.7478 62.9626 51.1809 62.9411C51.6072 62.9239 52.0089 62.7942 52.3858 62.552C52.7761 62.3012 53.0699 61.9888 53.2671 61.6149C53.4642 61.241 53.5455 60.8274 53.511 60.3741C53.4741 59.9319 53.3086 59.4819 53.0146 59.0242C52.7248 58.5733 52.3822 58.2324 51.9866 58.0016C51.5887 57.7819 51.1765 57.6806 50.7502 57.6978C50.3281 57.7218 49.9219 57.8591 49.5316 58.11C49.1547 58.3521 48.8698 58.6636 48.677 59.0442C48.4774 59.4292 48.3949 59.8483 48.4294 60.3016C48.4639 60.7549 48.6238 61.2036 48.9093 61.6478ZM41.4943 67.9733L42.3874 57.6209L43.225 57.3642L42.9232 60.72L47.4029 66.1621L46.5195 66.4329L42.7466 61.7406L42.3203 67.7201L41.4943 67.9733ZM26.3983 67.2321C25.6412 67.1032 25.067 66.758 24.6757 66.1963C24.2752 65.6412 24.1521 64.9102 24.3065 64.0033L24.951 60.2177L25.7673 60.3567L25.1389 64.0476C25.0194 64.7495 25.0976 65.3146 25.3737 65.743C25.6497 66.1714 26.0795 66.4353 26.6631 66.5347C27.2703 66.6381 27.7896 66.5195 28.2209 66.1791C28.6521 65.8386 28.9329 65.2859 29.0631 64.5209L29.6593 61.0193L30.4755 61.1583L29.8471 64.8492C29.7276 65.5511 29.8059 66.1162 30.0819 66.5446C30.3579 66.973 30.7917 67.2376 31.3832 67.3383C31.9904 67.4417 32.5097 67.3231 32.9409 66.9827C33.3722 66.6422 33.653 66.0895 33.7832 65.3245L34.3793 61.8229L35.2074 61.9639L34.1078 68.423L33.2797 68.282L33.469 67.17C33.1955 67.5373 32.852 67.7912 32.4385 67.9318C32.0237 68.0803 31.5837 68.115 31.1184 68.0357C30.5584 67.9404 30.0923 67.7231 29.7199 67.3838C29.3397 67.0431 29.0993 66.5964 28.9986 66.0437C28.7378 66.5268 28.3756 66.8668 27.912 67.0638C27.4391 67.2673 26.9346 67.3234 26.3983 67.2321ZM16.4 59.6395C16.5481 59.3925 16.6681 59.2079 16.76 59.0858L21.4221 61.8813C21.6566 61.4436 21.7717 61.0182 21.7675 60.6052C21.7633 60.1923 21.6575 59.8164 21.4503 59.4776C21.2389 59.1456 20.9548 58.8727 20.598 58.6587C20.1315 58.379 19.6725 58.2577 19.2211 58.2948C18.7629 58.3279 18.3671 58.5057 18.0338 58.8282L17.2722 58.3715C17.7386 57.9049 18.3031 57.6324 18.9657 57.554C19.6174 57.4784 20.2829 57.6442 20.9621 58.0515C21.4904 58.3683 21.8939 58.7688 22.1725 59.253C22.4471 59.7441 22.5748 60.2778 22.5558 60.854C22.5258 61.433 22.3359 62.0141 21.9862 62.5973C21.6365 63.1805 21.2134 63.6217 20.7168 63.921C20.2202 64.2202 19.6927 64.361 19.1343 64.3433C18.5759 64.3256 18.0291 64.1563 17.494 63.8354C16.9588 63.5145 16.5622 63.1181 16.3041 62.6462C16.0392 62.1702 15.9197 61.6695 15.9456 61.144C15.9606 60.6213 16.112 60.1198 16.4 59.6395ZM17.1184 60.0982C16.8606 60.5126 16.7324 60.9208 16.7339 61.3228C16.7285 61.7207 16.8315 62.0856 17.0429 62.4176C17.2543 62.7496 17.5383 63.0225 17.8951 63.2364C18.4303 63.5573 18.9894 63.6594 19.5725 63.5426C20.1555 63.4258 20.6548 63.0676 21.0704 62.4679L17.1184 60.0982ZM14.6471 53.1896C14.7655 53.3198 14.8206 53.4697 14.8125 53.6392C14.7991 53.8028 14.7272 53.9438 14.597 54.0622C14.4667 54.1805 14.3225 54.236 14.1643 54.2284C13.9948 54.2203 13.8508 54.1511 13.7324 54.0209C13.6195 53.8966 13.5697 53.7526 13.5832 53.589C13.5853 53.4249 13.6515 53.2836 13.7818 53.1653C13.912 53.0469 14.0619 52.9917 14.2314 52.9998C14.3956 53.002 14.5341 53.0653 14.6471 53.1896ZM3.83117 46.6408C4.48074 46.3302 5.1058 46.2929 5.70636 46.529C6.30693 46.765 6.81081 47.3088 7.21802 48.1605L7.94789 49.687L11.1741 48.1444L11.5364 48.9023L3.96896 52.5205L2.87674 50.2362C2.47298 49.3918 2.36778 48.6618 2.56114 48.0461C2.75104 47.4233 3.17438 46.9548 3.83117 46.6408ZM6.56845 48.4711C6.0025 47.2874 5.21431 46.9372 4.20387 47.4203C3.69865 47.6619 3.38342 47.9855 3.25818 48.3912C3.13294 48.7969 3.2187 49.3101 3.51548 49.9308L4.24535 51.4573L7.29832 49.9976L6.56845 48.4711ZM-0.00192118 44.2985L8.55912 41.9399L8.78223 42.7498L0.221188 45.1084L-0.00192118 44.2985ZM4.9903 40.6779C4.3198 40.7227 3.72431 40.6302 3.20383 40.4004C2.67484 40.1631 2.25891 39.8181 1.95606 39.3652C1.64468 38.905 1.469 38.3755 1.42901 37.7768C1.38741 37.1542 1.49537 36.6098 1.75286 36.1436C2.00983 35.6694 2.35514 35.3176 2.78882 35.0882L1.35202 35.1842L1.29603 34.3461L7.83346 33.9093L7.88945 34.7475L6.44068 34.8443C6.90154 35.0219 7.29485 35.3284 7.62058 35.7637C7.93781 36.1915 8.11721 36.7167 8.15881 37.3393C8.19827 37.93 8.09431 38.4741 7.84693 38.9717C7.59901 39.4613 7.22869 39.8589 6.73596 40.1644C6.24269 40.462 5.66081 40.6331 4.9903 40.6779ZM4.62073 34.9658C4.09391 35.001 3.63814 35.1397 3.25343 35.3819C2.86871 35.6241 2.58113 35.94 2.39067 36.3295C2.19968 36.7111 2.11912 37.1254 2.14898 37.5724C2.17991 38.0354 2.31141 38.4435 2.54348 38.7968C2.77554 39.1501 3.09833 39.4212 3.51184 39.6101C3.91683 39.7915 4.39072 39.8641 4.93351 39.8278C5.46832 39.7921 5.93234 39.6568 6.32557 39.4221C6.71028 39.1799 6.99813 38.8681 7.18912 38.4865C7.37213 38.1054 7.44817 37.6834 7.41724 37.2204C7.38738 36.7734 7.25242 36.3736 7.01237 36.0208C6.77179 35.66 6.44474 35.3852 6.03123 35.1963C5.61773 35.0075 5.14756 34.9306 4.62073 34.9658ZM2.63351 25.4376L11.2901 31.185L11.1138 32.0431L8.31359 30.1693L1.38999 31.4912L1.57592 30.5861L7.50266 29.525L2.45966 26.284L2.63351 25.4376ZM10.5745 12.5468C11.0533 11.9464 11.6332 11.6107 12.314 11.5397C12.9935 11.4574 13.6929 11.7031 14.4122 12.2768L17.4143 14.671L16.8981 15.3184L13.971 12.984C13.4143 12.54 12.8818 12.3353 12.3733 12.3698C11.8649 12.4043 11.4261 12.653 11.057 13.1158C10.6729 13.5974 10.5256 14.1092 10.6151 14.6513C10.7047 15.1934 11.0528 15.7064 11.6594 16.1903L14.4364 18.405L13.9202 19.0523L10.9931 16.7179C10.4364 16.2739 9.90387 16.0692 9.39542 16.1037C8.88697 16.1382 8.44569 16.39 8.07158 16.8591C7.6875 17.3407 7.54022 17.8526 7.62974 18.3947C7.71927 18.9368 8.06738 19.4497 8.67406 19.9336L11.4511 22.1483L10.9273 22.805L5.80488 18.7198L6.32863 18.063L7.21051 18.7664C7.02122 18.3494 6.96498 17.9259 7.0418 17.496C7.11235 17.0611 7.29478 16.6591 7.58908 16.2901C7.94324 15.8461 8.35883 15.5431 8.83585 15.3812C9.31786 15.213 9.82512 15.2185 10.3576 15.3976C10.0608 14.9358 9.93828 14.4543 9.99 13.9533C10.0405 13.4409 10.2353 12.9721 10.5745 12.5468ZM22.0007 7.43651C22.1472 7.68444 22.2523 7.8779 22.3158 8.01689L17.6362 10.7829C17.9092 11.1977 18.2283 11.5017 18.5934 11.6948C18.9584 11.8879 19.3393 11.9741 19.7359 11.9534C20.1285 11.9258 20.5038 11.8061 20.862 11.5945C21.3303 11.3177 21.6557 10.972 21.8381 10.5575C22.0275 10.1389 22.0598 9.70622 21.9352 9.25949L22.6996 8.80764C22.8875 9.44001 22.858 10.0661 22.6111 10.686C22.367 11.295 21.904 11.801 21.2222 12.204C20.6919 12.5174 20.1475 12.6812 19.589 12.6954C19.0264 12.7026 18.4964 12.5606 17.9989 12.2692C17.5042 11.9668 17.0839 11.5229 16.7379 10.9376C16.3919 10.3522 16.2057 9.7699 16.1793 9.19073C16.1529 8.61157 16.2806 8.08075 16.5623 7.59828C16.844 7.11581 17.2534 6.71582 17.7906 6.39831C18.3278 6.08079 18.8653 5.92106 19.4031 5.91911C19.9479 5.91309 20.445 6.04671 20.8946 6.31995C21.347 6.58224 21.7157 6.95443 22.0007 7.43651ZM21.255 7.84938C21.0136 7.42521 20.7158 7.11798 20.3617 6.92768C20.0145 6.73331 19.6446 6.64993 19.252 6.67753C18.8594 6.70513 18.4841 6.82477 18.126 7.03644C17.5888 7.35396 17.2326 7.79683 17.0573 8.36507C16.8821 8.9333 16.959 9.54299 17.2882 10.1941L21.255 7.84938ZM28.517 9.01065C28.3458 9.05176 28.1879 9.02798 28.0432 8.93933C27.9063 8.84881 27.8173 8.71798 27.7761 8.54685C27.735 8.37571 27.7559 8.22262 27.8386 8.08756C27.9273 7.94285 28.0571 7.84994 28.2283 7.80884C28.3916 7.7696 28.5418 7.79524 28.6787 7.88576C28.8215 7.96664 28.9135 8.09264 28.9546 8.26378C28.9957 8.43491 28.972 8.59283 28.8833 8.73754C28.8024 8.88038 28.6803 8.97141 28.517 9.01065Z" fill="white"/>
        </svg>
        <svg xmlns="http://www.w3.org/2000/svg" width="21" height="21" viewBox="0 0 16 17" fill="none" className="absolute">
          <path d="M13.5781 6.26555C13.932 6.4571 14.2281 6.74305 14.4345 7.09276C14.6409 7.44247 14.75 7.84276 14.75 8.25074C14.75 8.65872 14.6409 9.05901 14.4345 9.40872C14.2281 9.75843 13.932 10.0444 13.5781 10.2359L4.13737 15.461C2.61722 16.3033 0.75 15.2083 0.75 13.4766V3.02565C0.75 1.2932 2.61722 0.198979 4.13737 1.0397L13.5781 6.26555Z" stroke="white" strokeWidth="1.5"/>
        </svg>
      </div>

      {/* teks bawah */}
      <div className="flex flex-col items-start gap-md self-stretch">
        <div className="self-stretch headline-2 vfx-text-title">{title}</div>
        <div className="self-stretch sub-heading-reg vfx-text-subtitle-2">
          {content}
        </div>
      </div>
    </div>
  );
}

export default ContentCard;
